<!DOCTYPE html>
<html lang="en">
    <!--<< Header Area >>-->
    <head>
        <%- include('../partials/head.ejs') %>       
           <style>
              option{
                 cursor:pointer;
              }   
  
               
    .containerr {
      display:flex; 
      flex-direction:column;   
      text-align:center;
      border-radius: 15px;  
      width:100%;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.5);
      background-color: #1e1e1e; /* Darker background for content */ 
      padding-left: 20px; 
      padding-right: 20px; 
      padding-top:30px; 
      padding-bottom:30px;
    }
  

    h2 {
      color: #f5f5f5; /* Light text for title */
      font-size: 28px;
      margin-bottom: 15px;
      text-align:center;
      font-family: 'Playfair Display', serif;
      font-weight: bold;
    }     
    
     .avideo{
       text-align:left; 
       background-color:black;
       min-width:100px; 
       padding-bottom:20px;
       margin-left:20px;
       margin-right:20px; 
       padding-left:20px;
       padding-right:20px; 
     }


       /* Video Info */
.buddha-video-info { 
    margin-bottom: 20px;
}

.buddha-video-title {
    font-size:20px;  
    color: white;
    font-weight:bold; 
    font-family:'Poppins', sans-serif;
}     

.buddha-video-description {
    font-size:20px;
    color:lightgrey;
    font-weight:bold; 
    font-family:'Poppins', sans-serif; 
}  

/* Video Placeholder */
.buddha-video-placeholder {
    position: relative;
    width:100%; 
    background-size: cover; 
    background-position: center;
    display: flex;
    justify-content: center; 
    border-radius:7%;
    align-items: center;
}    
   

.automa {
    display: flex;
    flex-wrap: wrap;
    gap: 20px;
    justify-content: space-between;  
    border:2px solid red; 
    border-radius:7%;
    padding: 20px;
}

.avideo {
    background-color: black;
    color: white;
    flex: 1 1 calc(33.333% - 20px); /* 3 items per row, adjust for gaps */
    margin: 10px;
    padding: 20px;
    border-radius: 10px;
}    

 
 
   

.buddha-video-container {
    position: relative;
    width: 100%; /* Full width of the parent container */
    max-width: 800px; /* Optional: Max width for large screens */
    margin: auto; /* Center the container */
    background-size: cover;
    background-position: center;
    border-radius: 10px;
    overflow: hidden;
}

.buddha-video-container::before {
    content: "";
    display: block;
    padding-top: 56.25%; /* 16:9 Aspect Ratio (Height/Width ratio) */
}

iframe {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%; /* Full width of the container */
    height: 100%; /* Full height of the container */
    border: none;
}





.buddha-play-icon {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%); 
    color:white; 
    display:none;
    z-index: 10;
}

.buddha-youtube-player { 
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
}


@media only screen and (max-width: 768px) { /* Adjust the max-width as needed for target Android devices */
    .automa {
        flex-direction: column; /* Stack items vertically */
        align-items: stretch; /* Ensure items stretch to full width */
    }

    .avideo {
        margin-top:20px;
        flex: 1 1 100%; /* Make each item take full width */
        margin: 10px 0; /* Add vertical spacing between items */
    }
 
}



      
.video-background {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover; /* Ensures the video covers the area */
    z-index: -1; /* Pushes the video behind content */
}


           </style>
    </head>
    <body class="body-bg">
  
        <%- include('../partials/header.ejs') %>  

        <!--<< Breadcrumb Section Start >>-->
        <div class="breadcrumb-wrapper bg-cover" style="position:relative">
            <video class="video-background" autoplay muted loop>
                <source src="/images/btvbg.mp4" type="video/mp4">
                Your browser does not support the video tag.
            </video>
        <div class="container">
            <div class="page-heading">
                <div class="page-header-left">
                    <h1 class="wow fadeInUp" data-wow-delay=".3s">Videos</h1>
                    <ul class="breadcrumb-items wow fadeInUp" data-wow-delay=".5s">
                        <li>
                            <a href="/">
                                <i class="fa-solid fa-house"></i>
                                Home
                            </a>
                        </li>
                        <li>
                            <i class="fa-solid fa-slash-forward"></i>
                        </li>
                        <li>
                            videos
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        </div>
         
                <div class="automa"> 
                    
                        <div class="avideo">
                            <h2 class="buddha-video-title">Curated by Buddha.Tv</h2> 
                            <div class="buddha-video-container" style="background-image: url('/images/newbdbg.png');">
                                <button class="buddha-play-icon">▶</button>
                                <div class="buddha-loading-spinner"></div>
                                <iframe 
                                    class="buddha-youtube-player"  
                                    data-src="/yoga/ca.mp4"
                                    frameborder="0"
                                    allow="accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                                    allowfullscreen>      
                                </iframe>
                            </div>
                        </div>   
 

                        <div class="avideo">
                            <h2 class="buddha-video-title">Curated by Buddha.Tv</h2> 
                            <div class="buddha-video-container" style="background-image: url('/images/newbdbg.png');">
                                <button class="buddha-play-icon">▶</button>
                                <div class="buddha-loading-spinner"></div>
                                <iframe 
                                    class="buddha-youtube-player"  
                                    data-src="/yoga/cb.mp4"
                                    frameborder="0"
                                    allow="accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                                    allowfullscreen>      
                                </iframe>
                            </div>
                        </div> 

                        <div class="avideo">
                            <h2 class="buddha-video-title">Curated by Buddha.Tv</h2> 
                            <div class="buddha-video-container" style="background-image: url('/images/newbdbg.png');">
                                <button class="buddha-play-icon">▶</button>
                                <div class="buddha-loading-spinner"></div>
                                <iframe 
                                    class="buddha-youtube-player"  
                                    data-src="/yoga/cc.mp4"
                                    frameborder="0"
                                    allow="accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                                    allowfullscreen>      
                                </iframe>
                            </div>
                        </div> 

                        <div class="avideo">
                            <h2 class="buddha-video-title">Curated by Buddha.Tv</h2> 
                            <div class="buddha-video-container" style="background-image: url('/images/newbdbg.png');">
                                <button class="buddha-play-icon">▶</button>
                                <div class="buddha-loading-spinner"></div>
                                <iframe 
                                    class="buddha-youtube-player"  
                                    data-src="/meditation/cd.mp4"
                                    frameborder="0"
                                    allow="accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                                    allowfullscreen>      
                                </iframe>
                            </div>
                        </div> 
                </div>
                
      <%- include('../partials/footer.ejs'); %>
       
        <!--<< All JS Plugins >>-->
        <script src="/assets/js/jquery-3.7.1.min.js"></script>
        <!--<< Viewport Js >>-->
        <script src="/assets/js/viewport.jquery.js"></script>
        <!--<< Bootstrap Js >>-->
        <script src="/assets/js/bootstrap.bundle.min.js"></script>
        <!--<< Nice Select Js >>-->
        <script src="/assets/js/jquery.nice-select.min.js"></script>
        <!--<< Waypoints Js >>-->
        <script src="/assets/js/jquery.waypoints.js"></script>
        <!--<< Counterup Js >>-->
        <script src="/assets/js/jquery.counterup.min.js"></script>
        <!--<< Swiper Slider Js >>-->
        <script src="/assets/js/swiper-bundle.min.js"></script>
        <!--<< MeanMenu Js >>-->
        <script src="/assets/js/jquery.meanmenu.min.js"></script>
        <!--<< Magnific Popup Js >>-->
        <script src="/assets/js/jquery.magnific-popup.min.js"></script>
        <!--<< Wow Animation Js >>-->
        <script src="/assets/js/wow.min.js"></script>
        <!--<< Main.js >>-->
        <script src="/assets/js/main.js"></script>  
 
        <script>
            // Path to the disclaimer video
            const disclaimerVideoPath = '/images/disclaimer.mp4';
        
            // Function to create a disclaimer video element
            function createDisclaimerVideo(videoPath, onDisclaimerEnd) {
                const wrapper = document.createElement('div');
                wrapper.style.position = 'relative';
                wrapper.style.backgroundColor = 'black';
                wrapper.style.display = 'flex';
                wrapper.style.justifyContent = 'center';
                wrapper.style.alignItems = 'center';
                wrapper.style.width = '100%';
                wrapper.style.height = '100%';
        
                const video = document.createElement('video');
                video.src = videoPath;
                video.controls = true; // Adds play/pause controls
                video.style.width = '100%';
                video.style.maxWidth = '640px'; // Optional size for uniformity
                video.style.borderRadius = '10px';
        
                const dismissButton = document.createElement('button');
                dismissButton.textContent = 'Skip Disclaimer';
                dismissButton.style.position = 'absolute';
                dismissButton.style.top = '-40px';
                dismissButton.style.right = '10px';
                dismissButton.style.padding = '5px 5px';
                dismissButton.style.backgroundColor = '#f00';
                dismissButton.style.color = '#fff';
                dismissButton.style.border = 'none';
                dismissButton.style.cursor = 'pointer';
                dismissButton.style.borderRadius = '5px';
        
                dismissButton.addEventListener('click', () => {
                    onDisclaimerEnd();
                });
        
                video.addEventListener('ended', () => {
                    onDisclaimerEnd();
                });
        
                wrapper.appendChild(video);
                wrapper.appendChild(dismissButton);
        
                return wrapper;
            }
        
            // Get all video containers
            const videoContainers = document.querySelectorAll('.buddha-video-container');
        
            videoContainers.forEach((container) => {
                const iframe = container.querySelector('iframe');
                if (!iframe) return;
        
                // Hide the iframe initially and prevent it from loading
                iframe.style.display = 'none';
                iframe.src = '';  // Clear the src to prevent it from preloading
        
                // Store the iframe's source in a data attribute
                const videoSrc = iframe.getAttribute('data-src');
        
                // Create and add the disclaimer video
                const disclaimerWrapper = createDisclaimerVideo(disclaimerVideoPath, () => {
                    // Show the main video and remove the disclaimer
                    iframe.style.display = 'block';
                    iframe.src = videoSrc;  // Now set the src dynamically to the actual video URL
                    disclaimerWrapper.remove();
                });
        
                // Append the disclaimer wrapper to the container
                container.appendChild(disclaimerWrapper);
            });
        </script>
        
 
    </body>      
</html>