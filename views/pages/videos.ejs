<!DOCTYPE html>
<html lang="en">
    <!--<< Header Area >>-->
    <head>
        <%- include('../partials/head.ejs') %>       
           <style>
              option{
                 cursor:pointer;
              }   
  
               
    .containerr {
      display:flex; 
      flex-direction:column;   
      text-align:center;
      border-radius: 15px;  
      width:100%;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.5);
      background-color: #1e1e1e; /* Darker background for content */ 
      padding-left: 20px; 
      padding-right: 20px; 
      padding-top:30px; 
      padding-bottom:30px;
    }
  

    h2 {
      color: #f5f5f5; /* Light text for title */
      font-size: 28px;
      margin-bottom: 15px;
      font-family: 'Playfair Display', serif;
      font-weight: bold;
    }    
  

     .avideo{
       text-align:left; 
       background-color:black;
       min-width:100px; 
       padding-bottom:20px;
       margin-left:20px;
       margin-right:20px; 
       padding-left:20px;
       padding-right:20px; 
     }


       /* Video Info */
.buddha-video-info { 
    margin-bottom: 20px;
}

.buddha-video-title {
    font-size:20px;  
    color: white;
    font-weight:bold; 
    font-family:'Poppins', sans-serif;
}     

.buddha-video-description {
    font-size:20px;
    color:lightgrey;
    font-weight:bold; 
    font-family:'Poppins', sans-serif; 
}  

/* Video Placeholder */
.buddha-video-placeholder {
    position: relative;
    width:100%; 
    background-size: cover; 
    background-position: center;
    display: flex;
    justify-content: center; 
    border-radius:7%;
    align-items: center;
}    
   

.automa {
    display: flex;
    flex-wrap: wrap;
    gap: 20px;
    justify-content: space-between;  
    border:2px solid red; 
    border-radius:7%;
    padding: 20px;
}

.avideo {
    background-color: black;
    color: white;
    flex: 1 1 calc(33.333% - 20px); /* 3 items per row, adjust for gaps */
    margin: 10px;
    padding: 20px;
    border-radius: 10px;
}    
 

.buddha-video-container {
    position: relative;
    width: 100%;
    min-height: 250px;
    background-size: cover;
    background-position: center;
    display: flex;
    justify-content: center;
    align-items: center;
    border-radius: 10px;
}

.buddha-play-icon {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%); 
    color:white;
    z-index: 10;
}

.buddha-youtube-player {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
}


@media only screen and (max-width: 768px) { /* Adjust the max-width as needed for target Android devices */
    .automa {
        flex-direction: column; /* Stack items vertically */
        align-items: stretch; /* Ensure items stretch to full width */
    }

    .avideo {
        margin-top:20px;
        flex: 1 1 100%; /* Make each item take full width */
        margin: 10px 0; /* Add vertical spacing between items */
    }

    .buddha-video-container {
        min-height: 300px; /* Increase height for better visibility on mobile */
    }
}



      
.video-background {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    object-fit: cover; /* Ensures the video covers the area */
    z-index: -1; /* Pushes the video behind content */
}


           </style>
    </head>
    <body class="body-bg">
  
        <%- include('../partials/header.ejs') %>  

        <!--<< Breadcrumb Section Start >>-->
        <div class="breadcrumb-wrapper bg-cover" style="position:relative">
            <video class="video-background" autoplay muted loop>
                <source src="/images/btvbg.mp4" type="video/mp4">
                Your browser does not support the video tag.
            </video>
        <div class="container">
            <div class="page-heading">
                <div class="page-header-left">
                    <h1 class="wow fadeInUp" data-wow-delay=".3s">Videos</h1>
                    <ul class="breadcrumb-items wow fadeInUp" data-wow-delay=".5s">
                        <li>
                            <a href="/">
                                <i class="fa-solid fa-house"></i>
                                Home
                            </a>
                        </li>
                        <li>
                            <i class="fa-solid fa-slash-forward"></i>
                        </li>
                        <li>
                            videos
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        </div>
         
                <div class="automa">
                    <% videos.forEach((each, index) => { %>
                        <div class="avideo">
                            <h2 class="buddha-video-title">Curated by Buddha.Tv</h2> 
                            <div idtf="<%=`video${index}`%>" class="buddha-video-container" style="background-image: url('/images/newbdbg.png');">
                                <button class="buddha-play-icon">â–¶</button>
                                <div class="buddha-loading-spinner"></div>
                                <iframe 
                                    class="buddha-youtube-player"  
                                    src="<%=`https://www.youtube.com/embed/${each.videoId}`%>"
                                    frameborder="0"
                                    allow="accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                                    allowfullscreen>      
                                </iframe>
                            </div>
                        </div>
                    <% }); %>
                </div>
                
      <%- include('../partials/footer.ejs'); %>
       
        <!--<< All JS Plugins >>-->
        <script src="/assets/js/jquery-3.7.1.min.js"></script>
        <!--<< Viewport Js >>-->
        <script src="/assets/js/viewport.jquery.js"></script>
        <!--<< Bootstrap Js >>-->
        <script src="/assets/js/bootstrap.bundle.min.js"></script>
        <!--<< Nice Select Js >>-->
        <script src="/assets/js/jquery.nice-select.min.js"></script>
        <!--<< Waypoints Js >>-->
        <script src="/assets/js/jquery.waypoints.js"></script>
        <!--<< Counterup Js >>-->
        <script src="/assets/js/jquery.counterup.min.js"></script>
        <!--<< Swiper Slider Js >>-->
        <script src="/assets/js/swiper-bundle.min.js"></script>
        <!--<< MeanMenu Js >>-->
        <script src="/assets/js/jquery.meanmenu.min.js"></script>
        <!--<< Magnific Popup Js >>-->
        <script src="/assets/js/jquery.magnific-popup.min.js"></script>
        <!--<< Wow Animation Js >>-->
        <script src="/assets/js/wow.min.js"></script>
        <!--<< Main.js >>-->
        <script src="/assets/js/main.js"></script>  

          <script>
               
// Select all required elements
const videoContainers = document.querySelectorAll('.buddha-video-container');

for (let i = 0; i < videoContainers.length; i++) {
    const playButton = videoContainers[i].querySelector('.buddha-play-icon');
    const youtubePlayer = videoContainers[i].querySelector('.buddha-youtube-player');
    const videoTitle = videoContainers[i].querySelector('.buddha-video-title');
    const videoDescription = videoContainers[i].querySelector('.buddha-video-description');
    const loadingSpinner = videoContainers[i].querySelector('.buddha-loading-spinner');
    const playIcon = videoContainers[i].querySelector('.buddha-play-icon');
    const myiframe = videoContainers[i].querySelector('iframe');  
  

    // Add event listener to the play button
    playButton.addEventListener('click', () => {
        // Show the loading spinner and hide the play icon 
        alert('dde');
        loadingSpinner.style.display = 'block';
        playIcon.style.display = 'none';
          
        // Wait until the iframe is loaded before showing it
        youtubePlayer.onload = () => {
            setTimeout(() => {
                loadingSpinner.style.display = 'none';
                myiframe.style.display = 'block';
            }, 500);
        };
    });
}

          </script>
    </body>      
</html>